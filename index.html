<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retos Interactivos de Rob√≥tica</title>
    <style>
        /* Estilos generales */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        /* Contenedor principal */
        .main-container {
            display: flex;
            min-height: 100vh;
        }

        /* Columna lateral de navegaci√≥n */
        .sidebar {
            width: 320px;
            background-color: #333a45;
            color: #fff;
            padding: 20px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            overflow-y: auto;
            transition: transform 0.3s ease; /* Animaci√≥n suave si se oculta */
        }
        .sidebar h1 {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 25px;
            color: #58D68D; /* Verde para un look "tech" */
        }
        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }
        .sidebar li a {
            display: block;
            color: #fff;
            text-decoration: none;
            padding: 12px 15px;
            border-radius: 5px;
            margin-bottom: 8px;
            transition: background-color 0.3s;
        }
        .sidebar li a:hover, .sidebar li a.active {
            background-color: #58D68D;
        }
        .sidebar li a .topic-number {
            font-weight: bold;
            margin-right: 8px;
            display: block;
            font-size: 0.8em;
            opacity: 0.8;
        }

        /* √Årea de contenido principal */
        .content-area {
            flex-grow: 1;
            margin-left: 320px;
            padding: 40px;
            transition: margin-left 0.3s ease;
        }

        /* Estilo para los paneles de retos */
        .challenge-panel {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            padding: 25px 35px;
            display: none; /* Ocultos por defecto */
            max-width: 1000px; /* L√≠mite de ancho para mejor lectura */
            margin: 0 auto;    /* Centrado si hay espacio */
        }
        .challenge-panel h2 {
            font-size: 2em;
            color: #58D68D;
            margin-top: 0;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        .challenge-panel.active {
            display: block; /* Muestra el panel activo */
        }
        .challenge-panel h3 {
            font-size: 1.3em;
            color: #333a45;
            margin-top: 25px;
        }
        .challenge-panel ul {
            list-style-type: '‚úì  ';
            padding-left: 20px;
        }
        .challenge-panel li {
            margin-bottom: 8px;
        }
    </style>
</head>
<body>

    <div class="main-container">
        <nav class="sidebar">
            <h1>Retos de Rob√≥tica üöÄ</h1>
            <ul id="challenge-list">
                </ul>
        </nav>

        <main class="content-area" id="content-panels">
             </main>
    </div>

    <script>
        // --- 1. DATOS DE LOS RETOS ---
        const challengeData = [
            {
                title: "Reto 1: El Guardi√°n de la Luz",
                introduction: "¬°Bienvenidos, ingenieros! Vuestra primera misi√≥n es una de las m√°s importantes de todas: aprender a controlar la energ√≠a el√©ctrica. Antes de construir robots complejos, debemos entender el 'alma' que los mueve: la electricidad. Hoy no solo vais a encender una luz, vais a convertiros en sus guardianes, asegur√°ndoos de que brille con la intensidad justa y sin quemarse en el intento.",
                description: "Vuestro reto consiste en construir un circuito electr√≥nico desde cero en una protoboard. Usando una fuente de alimentaci√≥n (pilas), ser√©is capaces de encender un diodo LED de forma segura. Para ello, tendr√©is que hacer un c√°lculo crucial: determinar el valor de la resistencia que proteger√° vuestro LED, convirti√©ndose en su 'guardaespaldas'.",
                applications: "Dominar este concepto es la base de TODA la electr√≥nica. Desde el piloto rojo que indica que tu videoconsola est√° en standby, pasando por la potente iluminaci√≥n LED de los estadios de f√∫tbol, hasta las diminutas luces que iluminan la pantalla de tu m√≥vil. Todos estos sistemas se basan en el mismo principio que vais a aplicar hoy.",
                materials: ["1 x Protoboard", "1 x Portapilas (para 4 pilas AA)", "4 x Pilas AA", "2 x Diodos LED", "1 x Resistencia (calculada por vosotros)", "Varios cables de conexi√≥n"],
                tools: ["Calculadora (para la Ley de Ohm)", "Opcional: Mult√≠metro"]
            },
            {
                title: "Reto 2: Misi√≥n, el Esp√≠a Wi-Fi",
                introduction: "Hoy vais a convertir vuestra peque√±a placa ESP32 en una potente herramienta de inteligencia de redes. En un mundo donde todo est√° conectado, saber 'escuchar' el entorno digital es una habilidad fundamental. Vuestra misi√≥n es programar el ESP32 para que despierte sus superpoderes de conectividad y nos revele un secreto del mundo invisible que nos rodea: las redes Wi-Fi.",
                description: "Programar√©is vuestro ESP32 para que realice un escaneo completo de todas las redes Wi-Fi que est√©n a su alcance. El resultado no ser√° visible en el mundo f√≠sico, sino en la consola de vuestro ordenador. La placa enviar√° un informe detallado con los nombres (SSID) de todas las redes que detecte, demostrando que ya es un portal de comunicaci√≥n.",
                applications: "Esta es la base del Internet de las Cosas (IoT). Dispositivos como los altavoces inteligentes (Alexa, Google Home), los sensores de dom√≥tica o los smartwatches, realizan constantemente este proceso para conectarse a internet y funcionar. Tambi√©n es un principio b√°sico en ciberseguridad para analizar las redes de un edificio.",
                materials: ["1 x Placa de desarrollo ESP32"],
                tools: ["Ordenador con el entorno de desarrollo configurado", "Cable USB para conectar el ESP32"]
            },
            {
                title: "Reto 3: El Radar S√≥nico",
                introduction: "Los animales como los murci√©lagos y los delfines no necesitan ver para navegar en la oscuridad. Usan el sonido, emitiendo un pulso y midiendo su eco para crear un mapa de su entorno. Hoy, vais a construir vuestro propio sistema de s√≥nar, d√°ndole a vuestro futuro robot la capacidad de 'ver' con el sonido.",
                description: "Crear√©is una alarma de proximidad inteligente. Vuestro dispositivo usar√° un sensor de ultrasonidos para medir constantemente la distancia a un objeto. Un LED conectado al sistema actuar√° como indicador visual: a medida que el objeto se acerque al sensor, el parpadeo del LED se volver√° cada vez m√°s r√°pido, creando una sensaci√≥n de urgencia.",
                applications: "Esta tecnolog√≠a est√° por todas partes. Los sensores de aparcamiento de los coches funcionan exactamente as√≠. Los robots industriales lo usan para detectar personas y evitar accidentes, y los drones lo utilizan para mantener una altitud constante sobre el terreno o para esquivar objetos.",
                materials: ["1 x Placa de desarrollo ESP32", "1 x Protoboard", "1 x Sensor de ultrasonidos (HC-SR04)", "1 x Diodo LED", "1 x Resistencia (aprox. 220 o 330 Ohms)", "Varios cables de conexi√≥n"],
                tools: ["Ordenador con el entorno de desarrollo", "Cable USB"]
            },
            {
                title: "Reto 4: El Dedo Rob√≥tico",
                introduction: "Hoy damos un salto gigantesco: vamos a pasar de percibir el mundo a interactuar con √©l. El reto es crear movimiento, pero no cualquier movimiento, sino uno controlado con una precisi√≥n milim√©trica. Vais a construir el equivalente a una articulaci√≥n, un 'dedo rob√≥tico' capaz de apuntar a cualquier posici√≥n que le orden√©is.",
                description: "Montar√©is un sistema de control directo. Conectar√©is un potenci√≥metro (un mando giratorio) que actuar√° como vuestro joystick de control. A su lado, un servomotor esperar√° vuestras √≥rdenes. Al girar la perilla del potenci√≥metro, el eje del servomotor deber√° imitar vuestro movimiento de forma instant√°nea y precisa, barriendo un √°ngulo de 180 grados.",
                applications: "Los servomotores son los 'm√∫sculos' de la rob√≥tica de precisi√≥n. Se usan en las articulaciones de los brazos rob√≥ticos, en los sistemas que mueven los alerones de los aviones y drones, en las c√°maras de seguridad robotizadas y en la impresi√≥n 3D para posicionar el cabezal con una exactitud incre√≠ble.",
                materials: ["1 x Placa de desarrollo ESP32", "1 x Protoboard", "1 x Servomotor (tipo SG90)", "1 x Potenci√≥metro (10k Ohms)", "Varios cables de conexi√≥n"],
                tools: ["Ordenador con el entorno de desarrollo", "Cable USB"]
            },
            {
                title: "Reto 5: El Rover Explorador Aut√≥nomo",
                introduction: "Ha llegado el momento de combinarlo todo. Sensores para percibir, actuadores para moverse y un cerebro para tomar decisiones. Vuestra misi√≥n es construir un veh√≠culo terrestre aut√≥nomo, un rover capaz de explorar un territorio desconocido sin chocar contra los obst√°culos, tomando sus propias decisiones.",
                description: "Ensamblar√©is y programar√©is un robot m√≥vil completo. Usando un chasis, dos motores, un sensor de ultrasonidos y vuestro ESP32, crear√©is un sistema que avanza hasta que su 'radar s√≥nico' detecta un obst√°culo. En ese momento, el robot deber√° detenerse, girar para encontrar una ruta despejada y continuar su exploraci√≥n.",
                applications: "Est√°is construyendo el prototipo de tecnolog√≠as que est√°n cambiando el mundo: desde los robots aspiradora como la Roomba, hasta los coches aut√≥nomos. Esta misma l√≥gica la usan los robots de reparto en almacenes log√≠sticos y los drones exploradores que inspeccionan zonas de desastre.",
                materials: ["1 x Placa ESP32", "1 x Chasis de robot de 2 ruedas", "2 x Motores DC con ruedas", "1 x Controlador de motores (Driver L298N)", "1 x Sensor de ultrasonidos (HC-SR04)", "1 x Portapilas o Power Bank", "Varios cables de conexi√≥n"],
                tools: ["Ordenador con el entorno de desarrollo", "Cable USB", "Destornillador para el ensamblaje"]
            },
            {
                title: "Reto 6: El Brazo Industrial de Precisi√≥n",
                introduction: "¬°Bienvenidos a vuestro proyecto final! Hoy os convertir√©is en ingenieros de automatizaci√≥n. Vais a construir y programar una versi√≥n a escala de los impresionantes brazos rob√≥ticos que ensamblan coches o fabrican microchips. Vuestra tarea es programar una secuencia de movimientos perfecta para que vuestro brazo realice una tarea √∫til.",
                description: "Programar√©is un brazo rob√≥tico para que ejecute una tarea de log√≠stica aut√≥noma: la cl√°sica 'Pick and Place'. El brazo deber√° moverse a una posici√≥n (Punto A), recoger un objeto, transportarlo a una segunda ubicaci√≥n (Punto B) y depositarlo all√≠. Luego, volver√° a su posici√≥n de inicio, listo para repetir el ciclo.",
                applications: "Esta es la tarea m√°s com√∫n en la automatizaci√≥n industrial. Los brazos rob√≥ticos realizan operaciones 'Pick and Place' millones de veces al d√≠a: colocan componentes en las placas de los m√≥viles, mueven botellas en una planta de envasado o incluso realizan cirug√≠as con una precisi√≥n sobrehumana.",
                materials: ["1 x Placa ESP32", "1 x Kit de brazo rob√≥tico (2-3 servos)", "1 x Protoboard", "Fuente de alimentaci√≥n externa para los servos", "Un objeto peque√±o para la tarea", "Varios cables de conexi√≥n"],
                tools: ["Ordenador con el entorno de desarrollo", "Cable USB", "Destornillador y alicates para el montaje"]
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const challengeList = document.getElementById('challenge-list');
            const contentPanels = document.getElementById('content-panels');

            // --- 2. Generar din√°micamente el HTML ---
            challengeData.forEach((challenge, index) => {
                const challengeId = `reto-${index + 1}`;

                // Crear enlace en la barra lateral
                const listItem = document.createElement('li');
                listItem.innerHTML = `<a href="#${challengeId}" class="challenge-link"><span class="topic-number">Reto ${index + 1}</span>${challenge.title.split(': ')[1]}</a>`;
                challengeList.appendChild(listItem);

                // Crear panel de contenido
                const panel = document.createElement('section');
                panel.id = challengeId;
                panel.className = 'challenge-panel';
                
                // Generar listas de materiales y herramientas
                let materialsHtml = '<ul>';
                challenge.materials.forEach(item => { materialsHtml += `<li>${item}</li>`; });
                materialsHtml += '</ul>';

                let toolsHtml = '<ul>';
                challenge.tools.forEach(item => { toolsHtml += `<li>${item}</li>`; });
                toolsHtml += '</ul>';

                // Ensamblar todo el HTML del panel
                panel.innerHTML = `
                    <h2>${challenge.title}</h2>
                    
                    <h3>Introducci√≥n: ¬°Vuestro objetivo!</h3>
                    <p>${challenge.introduction}</p>
                    
                    <h3>¬øQu√© vais a construir?</h3>
                    <p>${challenge.description}</p>
                    
                    <h3>Aplicaciones en el Mundo Real</h3>
                    <p>${challenge.applications}</p>
                    
                    <h3>Lista de Materiales</h3>
                    ${materialsHtml}
                    
                    <h3>Lista de Herramientas</h3>
                    ${toolsHtml}
                `;
                contentPanels.appendChild(panel);
            });

            // --- 3. A√±adir interactividad ---
            const links = document.querySelectorAll('.challenge-link');
            const panels = document.querySelectorAll('.challenge-panel');

            function showPanel(targetId) {
                // Ocultar todos los paneles y quitar 'active' de los links
                panels.forEach(panel => panel.classList.remove('active'));
                links.forEach(link => link.classList.remove('active'));

                // Mostrar el panel y el link activo
                const targetPanel = document.querySelector(targetId);
                const activeLink = document.querySelector(`a[href="${targetId}"]`);

                if (targetPanel) {
                    targetPanel.classList.add('active');
                }
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
            
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    showPanel(targetId);
                });
            });

            // --- 4. MODO QUIOSCO / SOLO LECTURA ---
            // Esta secci√≥n permite ocultar el men√∫ si se pasa un par√°metro en la URL
            const urlParams = new URLSearchParams(window.location.search);
            const retoEspecifico = urlParams.get('ver'); // Busca ?ver=reto-X

            if (retoEspecifico) {
                // A) Si hay petici√≥n espec√≠fica en la URL:
                
                // 1. Ocultar la barra lateral completamente
                const sidebar = document.querySelector('.sidebar');
                if(sidebar) sidebar.style.display = 'none';

                // 2. Quitar el margen izquierdo del contenido para que ocupe todo el ancho
                const contentArea = document.querySelector('.content-area');
                if(contentArea) {
                    contentArea.style.marginLeft = '0';
                    contentArea.style.width = '100%';
                }

                // 3. Mostrar SOLAMENTE el reto pedido
                // Aseguramos que existe el panel con ese ID (ej: reto-1)
                const panelPedido = document.getElementById(retoEspecifico);
                if (panelPedido) {
                    panelPedido.classList.add('active');
                } else {
                    // Si escriben mal el n√∫mero, mostramos alerta o simplemente nada
                    console.warn('Reto no encontrado: ' + retoEspecifico);
                }

            } else {
                // B) Modo normal (Si no hay ?ver=...):
                // Mostrar el primer reto por defecto
                showPanel('#reto-1');
            }
        });
    </script>

</body>
</html>

